<!doctype html>
<html lang="fr">
    <head>
        <title>Château d'Amécourt</title>
        <%- include partials/head.ejs %>
        <%- include partials/analytics.ejs %>
    </head>
    <script type="text/javascript" src="/js/map.js"></script>
    <script type="text/javascript" src="/js/scroll.js"></script>

    <body>


        <div id="container">
            <header>
                <a href="/">
                    <section class="main-top">
                        <img src="/img/main.png" alt="">
                    </section>
                </a>

                <div class="menu">
                    <a href="#sect-castle">Le château</a>
                    <a href="#sect-events">Les réceptions</a>
                    <a href="#sect-rooms">Le gîte et les chambres d'hotes</a>
                </div>
            </header>

            <section id="home">
                <section class="carousel">
                    <div class="main-title">
                        <div id="mainprev" class="prev"></div>
                        <div id="mainnext" class="next"></div>
                        <div class="img img-1 current"></div>
                        <div class="img img-2 right"></div>
                        <div class="img img-3 right"></div>
                        <div class="img img-4 right"></div>
                        <div class="img img-5 right"></div>
                    </div>
                </section>

                <script>
                    document.getElementById('mainprev').addEventListener('click', function() {
                        var currentImg = document.getElementsByClassName('img current')[0],
                            currentNum = parseInt(/img-(\d+)/.exec(currentImg.className)[1], 10),
                            nextNum;

                        if(currentNum > 1){
                            nextNum = currentNum - 1;
                        } else {
                            nextNum = 5;
                        }

                        var nextImg = document.getElementsByClassName('img-' + (nextNum).toString())[0];
                        currentImg.className = 'img img-' + (currentNum).toString();
                        nextImg.className += ' current';

                        if (nextImg.className.indexOf('left') == -1) {
                            nextImg.className = 'img left unanimated img-' + (nextNum).toString();
                        }

                        setTimeout(function(){
                            nextImg.className = 'img current img-' + (nextNum).toString();
                            currentImg.className += ' right';
                        }, 20);
                    }, false);

                    document.getElementById('mainnext').addEventListener('click', function() {
                        var currentImg = document.getElementsByClassName('img current')[0],
                            currentNum = parseInt(/img-(\d+)/.exec(currentImg.className)[1], 10),
                            nextNum;

                        if(currentNum < 5){
                            nextNum = currentNum + 1;
                        } else {
                            nextNum = 1;
                        }

                        var nextImg = document.getElementsByClassName('img-' + (nextNum).toString())[0];
                        currentImg.className = 'img img-' + (currentNum).toString();
                        nextImg.className += ' current';

                        if (nextImg.className.indexOf('right') == -1) {
                            nextImg.className = 'img right unanimated img-' + (nextNum).toString();
                        }

                        setTimeout(function(){
                            nextImg.className = 'img current img-' + (nextNum).toString();
                            currentImg.className += ' left';
                        }, 20);
                    }, false);

                </script>

                <section id="sect-castle" class="intro-3">
                    <div class="txt">
                        <div>Un château au cœur de la nature</div>
                        Envie de dépaysement ? le château d’Amécourt vous accueille dans son parc de 8ha à seulement 80 km de Paris.
                    </div>
                    <div class="img-block">
                        <div class="block">
                            <a class="spacer" href="/castle/history">
                                <div class="img img-1">
                                    <div class="cover">
                                        <div class="title">L'histoire du château</div>
                                    </div>
                                </div>
                            </a>
                        </div><div class="block">
                        <a class="spacer" href="/castle/bikes">
                            <div class="img img-2">
                                <div class="cover">
                                    <div class="title">Location de vélos</div>
                                </div>
                            </div>
                        </a>
                        </div><div class="block">
                        <a class="spacer" href="/castle/activities">
                            <div class="img img-3">
                                <div class="cover">
                                    <div class="title">Les activités de la région</div>
                                </div>
                            </div>
                        </a>
                        </div>
                    </div>
                </section>

                <section id="sect-events" class="intro-2">
                    <div class="txt">
                        <div>Un lieu d'exception à votre disposition</div>
                        Le château d'Amécourt met ses plus beaux atouts au service de vos réceptions.
                    </div>

                    <div class="img-block">
                        <div class="block">
                            <a class="spacer" href="/events">
                                <div class="img img-1">
                                    <div class="cover">
                                        <div class="title">Les mariages</div>
                                    </div>
                                </div>
                            </a>
                        </div><div class="block">
                        <a class="spacer" href="/events">
                            <div class="img img-2">
                                <div class="cover">
                                    <div class="title">Les séminaires</div>
                                </div>
                            </div>
                        </a>
                        </div><div class="block">
                        <a class="spacer" href="/events">
                            <div class="img img-3">
                                <div class="cover">
                                    <div class="title">Nos équipements et partenaires</div>
                                </div>
                            </div>
                        </a>
                        </div>
                    </div>
                </section>

                <section id="sect-rooms" class="intro-1">
                    <div class="txt">
                        <div>Votre séjour au château</div>
                        Profitez de notre table d'hôte et d’une de nos 8 chambres raffinée et décorées avec goût.
                    </div>

                    <% for (var i=0; i<rooms.length; i++) { %><div class="block">
                    <a class="spacer" href="/room/<%= rooms[i].customId %>">
                        <div class="room room-<%= i+1 %>">
                            <div class="cover">
                                <div class="title"><%= rooms[i].name %><br/><div class="price"><%= rooms[i].guestsCount %> pers. | <%= rooms[i].avgPrice %></div></div>
                            </div>
                        </div>
                    </a>
                    </div><% } %><div class="block">
                    <a class="spacer" href="/rooms">
                        <div class="room room-4">
                            <div class="cover">
                                <div class="title">Voir toutes les chambres</div>
                            </div>
                        </div>
                    </a>
                    </div>
                </section>

                <section class="map">
                    <div id="map-canvas" style="position: absolute; top: 0; right: 0; bottom: 0; left: 0;"></div>
                </section>

            </section>
            <%- include partials/footer.ejs %>
        </div>

    </body>
</html>